<div *ngIf="isLoading" class="loading-spinner">
  <div class="custom-spinner"></div>
  <p class="loading-text">Loading blogs...</p>
</div>

<div *ngIf="!isLoading">
  <img id="imgb" src="../../../../assets/screenshot4.png">
  <div id="blog">
    <p class="blog-title">Blogs</p>
    <hr>
    <div class="filter-buttons" style="text-align: center">
      <button mat-button [color]="selectedFilter === 'all' ? 'accent' : 'primary'" (click)="applyFilter('all')">
        All
      </button>
      <button mat-button [color]="selectedFilter === 'active' ? 'accent' : 'primary'" (click)="applyFilter('active')">
        Active
      </button>
      <button mat-button [color]="selectedFilter === 'famous' ? 'accent' : 'primary'" (click)="applyFilter('famous')">
        Famous
      </button>
    </div>

    <div id="blog-details">
      <div class="card-container">
        <div class="card add-card">
          <button color="primary" (click)="openNewBlogForm()" mat-icon-button matTooltip="Add new blog">
            <img src="assets/icons/add.png" alt="Add Icon"/>
          </button>                
        </div>
          <div class="card" *ngFor="let blog of filteredBlogs">
            <div class="card-content">
              <img mat-card-image [src]="blog.image" alt="Blog Image" />
              <h3>{{ blog.title }}</h3>
              <p><strong>Author ID:</strong> 
                {{ blog.authorId }}
              </p>
              <p><strong>Date:</strong> 
                {{ blog.creationDate | date: 'medium' }}
              </p>
              <p><strong>Status:</strong> 
                {{ getStatusLabel(blog.status) }}
              </p>
            </div>
            <div class="card-actions">
              <button color="accent" (click)="viewComments(blog.id)" mat-icon-button matTooltip="View comments">
                <img src="assets/icons/view.png" alt="View Icon"/>
              </button>
            </div>
          </div>
          
      </div>
    </div>
  </div>
</div>