<img id="imgb" src="../../../../assets/screenshot4.png">
<div class="sale-creation">
  <h2>Create a Sale</h2>

  <div class="form-group">
    <label for="discount">Discount (%)</label>
    <input
      type="number"
      id="discount"
      [(ngModel)]="sale.discount"
      placeholder="Enter discount"
      min="0"
    />
  </div>

  <div class="form-group">
    <label for="startTime">Start Time</label>
    <input
      id="startTime"
      [(ngModel)]="sale.startTime"
      type="datetime-local"
      [min]="currentDateTime"
      (change)="onStartTimeChange()"
    />
  </div>

  <div class="form-group">
    <label for="endTime">End Time</label>
    <input
  type="datetime-local"
  [(ngModel)]="sale.endTime"
  [min]="sale.startTime | date:'yyyy-MM-ddTHH:mm'"
  [max]="maxEndDateTime"
/>
  </div>

<label class="form-label">Select Tours</label>
<div class="tour-list">
  <div class="tour-item" *ngFor="let tour of tours">
    <input 
      type="checkbox" 
      [id]="'tour-' + tour.id"
      [checked]="selectedTourIds.has(tour.id!)"
      (change)="toggleSelection(tour.id)" />
    <label [for]="'tour-' + tour.id">{{ tour.name }}</label>
  </div>
</div>


  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <button (click)="submitSale()" class="primary-button">
    Create Sale
  </button>
</div>
